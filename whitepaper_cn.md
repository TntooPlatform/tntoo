# TNTOO 白皮书

公平，公开，准备金不可挪用的区块链交易网络

Version 1.0


## 简介

TNTOO取名自Transaction Network，TNTOO交易网络访问地址为tntoo.com，中文名为贪图。

对概率的热衷从古至今一直存在，TNTOO能保证的是公平公正公开，让良币驱逐劣币。区块链应用TNTOO是时候出现了，而不只是人们一直以来的想法。TNTOO商城中只有通证的流通，不涉及法币，这也过滤了一部分不理性的参与者。

TNTOO发布了相应的交易网络智能合约以及TNTOO通证，同时拥有相应的商城应用。TNTOO合约代码完全公开，发布商品、判定等方法都通过合约预先设定，不可修改，任何人可验证。


## 通证

TNTOO是基于以太坊ERC20的通证，TNTOO为一个单位。TNTOO通证发行量被设计为与参与的ETH动态相关，TNTOO通证初始发行量为0，合约拥有者和TNTOO团队也不例外，合约限制了TNTOO团队只能通过商城交易手续费获益。

TNTOO通证是使用TNTOO交易网络的唯一凭据，在TNTOO交易网络上购买商品并结算等都使用TNTOO通证。之所以发布TNTOO通证是为了配合TNTOO合约实现一些特殊约定，比如引入额度变量限制合约拥有者的能力，让合约拥有者即使可以转账TNTOO通证，也无法自由提取ETH，以此保证100%准备金制度实施。

### 保持增值

TNTOO和ETH是可以双向转换的。合约首次发布时兑换关系为1ETH=10000TNTOO，随着每次交易中交易额的1%通证被合约直接销毁，可以确定的是相同数量的TNTOO今后一定能换取更多的ETH。合约设定每隔15天允许更新TNTOO兑换ETH的比例，将在每次判定过程中尝试更新。

### 充值

充值的目的是为了减少大量小额交易的手续费浪费，降低参与门槛，提升参与度。将TNTOO或ETH转至TNTOO商城应用，以增加用于购买商品的账户余额完成充值。商城中为每个用户提供了充值的唯一地址，用于判定每个用户的资金变化情况，充值后应用将立即把通证转至TNTOO合约拥有者再进行统一管理。

### 额度和提取

任何地址只有使用一定额度才能将TNTOO提取为相应的ETH，按照提取时的比例将兑换后的ETH转至指定地址。除合约拥有者以外获得可提取额度的唯一途径就是参与购买获得判定，判定的过程由合约执行，无法人为干预。

用户申请提出ETH，则合约拥有者代为执行ETH提取方法，并由合约对提取地址减去相应的ETH提取额度，完成提取并转出。存在一个假设，如果合约拥有者擅自动用TNTOO转至某个地址，然后由那个地址全额购买商品，则能够立即拥有转出ETH的额度。不过现实情况是，这样的行为是存在异常的，并且将被永久记录，任何人可以随时查看合约上的每条TNTOO记录，无论如何都会被明显识别出。TNTOO团队承诺完全不会发生这种情况，和TNTOO的信誉相比，这样做的好处微不足道。

### 转账

TNTOO是ERC20通证，账号间可以使用以太坊钱包进行转账。如果将TNTOO通证类比为商场购物金，通过赠予或场外交易可以做到资产转移，也可以实现流通，只是转账不会转移ETH提取额度。TNTOO最大的用途不在于转账，而在于增值设计以及为TNTOO交易网络上的交易结算提供支持。


## 交易

### 发布商品

发布商品时需要调用合约方法将商品信息提前写到链上，包括商品的价格、可选的卖家地址、作为索引的预设值。其中预设值有对应的唯一预设值原文，原文是40个16进制字符组成的字符串，通过sha256加密得到的字符串为预设值。预设值原文将在判定后公开，由于预设值是提前设置的，参与者可以验证预设值和原文的对应关系，以此证明预设值原文的真实可靠。

### 购买商品

参与购买需使用账户余额中已充值的TNTOO通证，在TNTOO商城参与购买商品后，商城应用中会记录每个商品的用户参与额度。参与满额后将提交TNTOO合约进行判定，根据参与者的参与数额比例对应的概率，判定出哪一位参与者成功获得商品。最终的判定结果将会在商城进行公示，这个结果在链上也是公开且不可修改的。

### 判定方式

首先需要说明的是参与判定的参数：
1. 每个参与地址相加并且转为数字记为参数1。
2. TNTOO合约执行时产生随机数字记为参数2。
3. 商品发布时就定义好的预设值原文转为数字记为参数3。

得到以上3个参数后则进行以下步骤：
1. 将3个参数相加后对商品数额进行取余数得出一个判定结果。
2. 根据提交的参与者各自的TNTOO数量划分区间，寻找出判定结果所在区间，找出对应的参与者收款地址，完成判定过程。

以上判定方式可信任的原因是因为三个参数互相牵制。首先，每一个人的参与都影响最终的判定，TNTOO应用不能左右。其次，由于合约代码是公开的，节点作弊不能获得利益的情况下，可相信随机值的客观性。最后，由TNTOO控制的预设值原文在判定前不公开，并且判定时不能再次修改。同时控制三个参数的情况几乎不可能存在，因此TNTOO设计的判定方式得出的判定结果是能保证随机和不受控制的。

### 商品结算

结算方式有两种。一种是使用TNTOO直接结算，将额度和TNTOO都直接转给获得商品判定的买家。另一种是由TNTOO商城先保存TNTOO，卖家在判定阶段获得相应的提现额度而不获得TNTOO，等用户点击确认收货，再由应用将TNTOO转给卖家。确认收货的过程中有TNTOO应用的接入，可以完成周期更长以及更灵活的交易过程。


## 收益分配

判定获得商品的地址最终将得到判定总额98%的TNTOO。其中，判定总额的1%为交易手续费，初期分为三部分：邀请返佣、平台收益、投资者分红。判定总额的另外1%的TNTOO会直接烧毁，这能让已持有TNTOO的每个用户受益。

### 窗口期及投资

TNTOO合约发布起的180天内记为窗口期，在窗口期内前5个向TNTOO合约地址一次转入不小于500ETH数额的钱包地址，将获得永久5%手续费收益分成。合约限制投资名额无法增加，超过限制数量则无法写入合约的投资地址列表。合约将在TNTOO每次收取手续费时自动读取投资地址列表，并按比例分配相应的TNTOO数额和ETH提取额度。投资地址拥有者只要调用合约上的提取方法，即可随时将收益分成转为ETH转出到钱包。


## 合约升级

TNTOO数据存储和逻辑都在一个智能合约中，不调用任何外部合约，这让验证更简单。只可惜任何东西都不可能永恒，当旧合约无法适应更新需求，或存在一些无法避免的问题时，TNTOO将会提前进行公告，将TNTOO合约的通证持有情况及其他数据完全迁移到新的合约或者TNTOO主链上。整个过程不会损失持币者利益，更不会造成用户的资产丢失。


## 结语

TNTOO合约通过以上设计，创造了一个共赢的合作机会。随着TNTOO的发展，持币者和投资者的资产就会增值，TNTOO在可观的收益支持下也会变得越来越好。TNTOO始终会做一个价值观正确的交易网络，同时也会努力为区块链生态的发展贡献出力量。

